<div class="container">
  <div class="row">
    <div class="form-inline">
      <%= form_for @entry do |f| %>
        <% if @entry.errors.any? %>
          <div id="error_explanation">
            <h2><%= pluralize(@entry.errors.count, "error") %> prohibited this post from being saved:</h2>

            <ul>
            <% @entry.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
            </ul>
          </div>
        <% end %>
        <div class="col-lg-2">
          <div class="input-group">
          <%= f.label :time_spent, 'Time', class: "input-group-addon" %>
          <% if @entry.try(:time_spent) %>
            <%= f.text_field :time_spent, placeholder: 'e.g. 1:30, 1.5, 90, 1h', :value => @entry.time_spent, class: "form-control" %>
          <% else %>
            <%= f.text_field :time_spent, placeholder: 'e.g. 1:30, 1.5, 90, 1h', class: "form-control" %>
          <% end %>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="input-group">
          <%= f.label :project_name, 'Project', class: "input-group-addon" %>
          <% if @entry.try(:project_name) %>
            <%= f.autocomplete_field :project_name, autocomplete_project_name_entries_path, :value => @entry.project_name, :min_length => 1, class: "form-control" %>
          <% else %>
            <%= f.autocomplete_field :project_name, autocomplete_project_name_entries_path, placeholder: 'Type to search...', :min_length => 1, class: "form-control" %>
          <% end %>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="input-group">
          <%= f.label :description, class: "input-group-addon" %>
          <%= f.text_area :description, :rows => "1", class: "form-control" %>
          </div>
        </div>
        <div class="col-lg-2">
          <div class="input-group">
          <%= f.label :date, class: "input-group-addon" %>
          <%= f.text_field :date, :style => "width: 8em;", :class => 'datepicker', :value => Date.today.strftime("%d/%m/%Y") %>
          <script type="text/javascript">
          $(function() {
            $('.datepicker').datepicker({
              showButtonPanel: true,
              dateFormat: 'dd/mm/yy',});
            });
          </script>
          </div>
        </div>
        <div class="col-lg-1">
          <div class="input-group">
          <%= f.submit "Add", class: "btn btn-default" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<%= render "entries" %>
